const themeToggle=document.getElementById('themeToggle');const themeIcon=themeToggle.querySelector('i');function setTheme(isDark){if(isDark){document.documentElement.className='dark-mode';themeIcon.className='fas fa-sun'}else{document.documentElement.className='light-mode';themeIcon.className='fas fa-moon'}
document.cookie=`darkMode=${isDark}; path=/; max-age=31536000`}
themeToggle.addEventListener('click',function(){const isDark=document.documentElement.classList.contains('dark-mode');themeIcon.style.animation='themeSwitch 0.6s ease';setTimeout(()=>{setTheme(!isDark);themeIcon.style.animation=''},300)});const prefersDark=window.matchMedia('(prefers-color-scheme: dark)').matches;const savedTheme=document.cookie.includes('darkMode=true');if(savedTheme){setTheme(!0)}else if(prefersDark&&!document.cookie.includes('darkMode=')){setTheme(!0)}
const mobileMenuBtn=document.getElementById('mobileMenuBtn');const navLinks=document.getElementById('navLinks');if(mobileMenuBtn){mobileMenuBtn.addEventListener('click',function(){navLinks.classList.toggle('active');if(navLinks.classList.contains('active')){mobileMenuBtn.innerHTML='<i class="fas fa-times"></i>'}else{mobileMenuBtn.innerHTML='<i class="fas fa-bars"></i>'}})}
document.querySelectorAll('.nav-link').forEach(link=>{link.addEventListener('click',function(){if(navLinks.classList.contains('active')){navLinks.classList.remove('active');mobileMenuBtn.innerHTML='<i class="fas fa-bars"></i>'}})});window.addEventListener('scroll',function(){const navbar=document.getElementById('navbar');if(window.scrollY>50){navbar.classList.add('scrolled')}else{navbar.classList.remove('scrolled')}});document.querySelectorAll('a[href^="#"]').forEach(anchor=>{anchor.addEventListener('click',function(e){e.preventDefault();const targetId=this.getAttribute('href');if(targetId==='#')return;const targetElement=document.querySelector(targetId);if(targetElement){window.scrollTo({top:targetElement.offsetTop-80,behavior:'smooth'})}})});const observerOptions={root:null,rootMargin:'0px',threshold:0.1};const observer=new IntersectionObserver((entries)=>{entries.forEach(entry=>{if(entry.isIntersecting){entry.target.style.opacity='1';entry.target.style.transform='translateY(0)';observer.unobserve(entry.target)}})},observerOptions);document.addEventListener('DOMContentLoaded',function(){const animElements=document.querySelectorAll('.structure-item, .schedule-card, .gallery-item, .piket-list li, .message-card');animElements.forEach(el=>{el.style.opacity='0';el.style.transform='translateY(30px)';el.style.transition='all 0.6s ease';observer.observe(el)})})
